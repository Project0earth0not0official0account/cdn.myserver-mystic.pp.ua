<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Index of /</title>
    <style>
        :root {
            --bg-color: #f8f9fa;
            --text-color: #212529;
            --border-color: #dee2e6;
            --link-color: #0d6efd;
            --link-hover: #0a58ca;
            --dir-color: #d63384;
            --file-color: #198754;
        }
        
        body {
            font-family: 'Consolas', 'Monaco', monospace;
            line-height: 1.6;
            background-color: var(--bg-color);
            color: var(--text-color);
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
        }
        
        h1 {
            font-size: 1.8em;
            margin-bottom: 0.5em;
            color: var(--text-color);
            border-bottom: 1px solid var(--border-color);
            padding-bottom: 0.3em;
        }
        
        hr {
            border: 0;
            height: 1px;
            background-color: var(--border-color);
            margin: 1em 0;
        }
        
        #file-list {
            list-style-type: none;
            padding: 0;
            margin: 0;
        }
        
        #file-list li {
            padding: 0.3em 0.5em;
            display: flex;
            align-items: center;
        }
        
        #file-list li:nth-child(odd) {
            background-color: rgba(0, 0, 0, 0.03);
        }
        
        #file-list li::before {
            content: "üìÑ";
            margin-right: 10px;
            font-size: 0.9em;
        }
        
        #file-list li[data-type="dir"]::before {
            content: "üìÅ";
            color: var(--dir-color);
        }
        
        #file-list a {
            color: var(--link-color);
            text-decoration: none;
            flex-grow: 1;
        }
        
        #file-list a:hover {
            color: var(--link-hover);
            text-decoration: underline;
        }
        
        .footer {
            font-size: 0.8em;
            color: #6c757d;
            text-align: right;
        }
        
        @media (prefers-color-scheme: dark) {
            :root {
                --bg-color: #212529;
                --text-color: #f8f9fa;
                --border-color: #495057;
                --link-color: #339af0;
                --link-hover: #74b9ff;
                --dir-color: #f783ac;
                --file-color: #51cf66;
            }
        }
    </style>
</head>
<body>
    <h1>Index of /</h1>
    <hr>
    <ul id="file-list"></ul>
    <hr>
    <div class="footer">Generated by GitHub Pages</div>

    <script>
        async function loadFiles() {
            try {
                const response = await fetch('https://api.github.com/repos/Project0earth0not0official0account/cdn.myserver-mystic.pp.ua/contents/');
                if (!response.ok) throw new Error('Network response was not ok');
                
                const files = await response.json();
                const list = document.getElementById('file-list');
                
                // Add parent directory link (disabled for root)
                // list.innerHTML = '<li data-type="dir"><a href="../">../</a></li>';
                
                files.forEach(file => {
                    const li = document.createElement('li');
                    li.setAttribute('data-type', file.type);
                    
                    const a = document.createElement('a');
                    a.href = file.html_url || file.path;
                    a.textContent = file.name + (file.type === 'dir' ? '/' : '');
                    
                    // Add download size for files
                    if (file.type === 'file') {
                        const size = document.createElement('span');
                        size.style.marginLeft = '10px';
                        size.style.color = '#6c757d';
                        size.textContent = formatBytes(file.size);
                        li.appendChild(a);
                        li.appendChild(size);
                    } else {
                        li.appendChild(a);
                    }
                    
                    list.appendChild(li);
                });
            } catch (error) {
                const list = document.getElementById('file-list');
                list.innerHTML = `<li style="color:#dc3545;">Error loading directory listing: ${error.message}</li>`;
            }
        }
        
        function formatBytes(bytes) {
            if (bytes === 0) return '0 B';
            const k = 1024;
            const sizes = ['B', 'KB', 'MB', 'GB'];
            const i = Math.floor(Math.log(bytes) / Math.log(k));
            return parseFloat((bytes / Math.pow(k, i)).toFixed(1)) + ' ' + sizes[i];
        }
        
        window.onload = loadFiles;
    </script>
</body>
</html>
